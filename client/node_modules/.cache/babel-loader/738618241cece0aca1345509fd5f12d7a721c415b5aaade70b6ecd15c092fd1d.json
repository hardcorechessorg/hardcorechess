{"ast":null,"code":"var _jsxFileName = \"/home/kirtan-rasa/hardcorechess/client/src/components/MultiplayerGame.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { Chessboard } from 'react-chessboard';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { Chess } from 'chess.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatMs = ms => {\n  const s = Math.max(0, Math.floor(ms / 1000));\n  const m = Math.floor(s / 60);\n  const sec = s % 60;\n  return `${m}:${sec.toString().padStart(2, '0')}`;\n};\nconst pairMoves = sans => {\n  const rows = [];\n  for (let i = 0; i < sans.length; i += 2) {\n    rows.push({\n      no: Math.floor(i / 2) + 1,\n      w: sans[i] || '',\n      b: sans[i + 1] || ''\n    });\n  }\n  return rows;\n};\nconst MultiplayerGame = () => {\n  _s();\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const [gameId, setGameId] = useState('');\n  const [playerName, setPlayerName] = useState('');\n  const [gameState, setGameState] = useState('menu'); // menu, creating, joining, playing\n  const [gameData, setGameData] = useState(null);\n  const [joinUrl, setJoinUrl] = useState('');\n  const [error, setError] = useState('');\n  const [ws, setWs] = useState(null);\n\n  // time control\n  const [minutes, setMinutes] = useState(5);\n  const [increment, setIncrement] = useState(0);\n\n  // auth token\n  const [authToken, setAuthToken] = useState('');\n\n  // local chess to compute SAN and history\n  const [chess, setChess] = useState(() => new Chess());\n  const [movesSan, setMovesSan] = useState([]);\n\n  // live clock display\n  const [clock, setClock] = useState({\n    wMs: 0,\n    bMs: 0\n  });\n  const [lastSyncAt, setLastSyncAt] = useState(null);\n  const [currentPlayer, setCurrentPlayer] = useState('w');\n  const [isGameOver, setIsGameOver] = useState(false);\n  const [tick, setTick] = useState(0);\n\n  // Проверяем, есть ли параметр join в URL\n  useEffect(() => {\n    const joinGameId = searchParams.get('join');\n    if (joinGameId) {\n      setGameId(joinGameId);\n      setGameState('joining');\n    }\n  }, [searchParams]);\n  const createNewGame = async () => {\n    try {\n      const response = await fetch('https://hardcorechess.onrender.com/create-multiplayer-game', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          minutes,\n          increment\n        })\n      });\n      const data = await response.json();\n      setGameId(data.gameId);\n      const joinLink = `${window.location.origin}/#/multiplayer?join=${data.gameId}`;\n      setJoinUrl(joinLink);\n      setGameState('creating');\n      setError('');\n      setClock(data.clock || {\n        wMs: minutes * 60000,\n        bMs: minutes * 60000\n      });\n    } catch (err) {\n      setError('Ошибка при создании игры');\n    }\n  };\n  const joinGame = async () => {\n    if (!gameId || !playerName) {\n      setError('Введите ID игры и ваше имя');\n      return;\n    }\n    try {\n      var _data$timeControl, _data$timeControl2;\n      const response = await fetch('https://hardcorechess.onrender.com/join-game', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          gameId,\n          playerName\n        })\n      });\n      const data = await response.json();\n      if (data.error) {\n        setError(data.error);\n        return;\n      }\n      setAuthToken(data.token || '');\n      setGameData(data);\n      setGameState('playing');\n      connectWebSocket(gameId);\n      setError('');\n\n      // reset local chess from FEN\n      const c = new Chess(data.fen);\n      setChess(c);\n      setMovesSan([]);\n      setClock(data.clock || {\n        wMs: (((_data$timeControl = data.timeControl) === null || _data$timeControl === void 0 ? void 0 : _data$timeControl.minutes) || 5) * 60000,\n        bMs: (((_data$timeControl2 = data.timeControl) === null || _data$timeControl2 === void 0 ? void 0 : _data$timeControl2.minutes) || 5) * 60000\n      });\n      setLastSyncAt(Date.now());\n      setCurrentPlayer(data.currentPlayer || 'w');\n      setIsGameOver(false);\n    } catch (err) {\n      setError('Ошибка при присоединении к игре');\n    }\n  };\n  const connectWebSocket = gameId => {\n    const websocket = new WebSocket(`wss://hardcorechess.onrender.com?gameId=${gameId}`);\n    websocket.onopen = () => {};\n    websocket.onmessage = event => {\n      const data = JSON.parse(event.data);\n      if (data.type === 'move') {\n        try {\n          const move = chess.move({\n            from: data.from,\n            to: data.to\n          });\n          if (move) {\n            setMovesSan(prev => [...prev, move.san]);\n            setChess(new Chess(chess.fen()));\n          }\n        } catch {}\n        setGameData(prev => ({\n          ...prev,\n          fen: data.fen,\n          currentPlayer: data.currentPlayer,\n          isGameOver: data.isGameOver,\n          result: data.result\n        }));\n        if (data.clock) {\n          setClock(data.clock);\n          setLastSyncAt(Date.now());\n        }\n        setCurrentPlayer(data.currentPlayer);\n        setIsGameOver(!!data.isGameOver);\n      }\n    };\n    websocket.onerror = () => {};\n    setWs(websocket);\n  };\n  const handleMove = async (sourceSquare, targetSquare) => {\n    if (!gameData || gameData.isGameOver) return false;\n    if (gameData.currentPlayer !== gameData.color) return false;\n    try {\n      const response = await fetch('https://hardcorechess.onrender.com/multiplayer-move', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          gameId,\n          from: sourceSquare,\n          to: targetSquare,\n          playerColor: gameData.color,\n          authToken\n        })\n      });\n      const data = await response.json();\n      if (data.error) {\n        setError(data.error);\n        return false;\n      }\n      try {\n        const move = chess.move({\n          from: sourceSquare,\n          to: targetSquare\n        });\n        if (move) {\n          setMovesSan(prev => [...prev, move.san]);\n          setChess(new Chess(chess.fen()));\n        }\n      } catch {}\n      setGameData(prev => ({\n        ...prev,\n        fen: data.fen,\n        currentPlayer: data.currentPlayer,\n        isGameOver: data.isGameOver,\n        result: data.result\n      }));\n      if (data.clock) {\n        setClock(data.clock);\n        setLastSyncAt(Date.now());\n      }\n      setCurrentPlayer(data.currentPlayer);\n      setIsGameOver(!!data.isGameOver);\n      return true;\n    } catch (err) {\n      setError('Ошибка при выполнении хода');\n      return false;\n    }\n  };\n  const openGameInNewTab = () => {\n    window.open(joinUrl, '_blank');\n  };\n  const copyToClipboard = () => {\n    navigator.clipboard.writeText(joinUrl);\n  };\n\n  // live ticking effect (forces rerender each 200ms)\n  useEffect(() => {\n    const id = setInterval(() => setTick(t => t + 1), 200);\n    return () => clearInterval(id);\n  }, []);\n  const displayedClock = useMemo(() => {\n    if (!lastSyncAt || isGameOver) return clock;\n    const now = Date.now();\n    const elapsed = Math.max(0, now - lastSyncAt);\n    if (currentPlayer === 'w') {\n      return {\n        wMs: Math.max(0, clock.wMs - elapsed),\n        bMs: clock.bMs\n      };\n    } else {\n      return {\n        wMs: clock.wMs,\n        bMs: Math.max(0, clock.bMs - elapsed)\n      };\n    }\n  }, [clock, lastSyncAt, currentPlayer, isGameOver, tick]);\n  useEffect(() => {\n    return () => {\n      if (ws) ws.close();\n    };\n  }, [ws]);\n  if (gameState === 'menu') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        className: \"button\",\n        style: {\n          marginBottom: 12\n        },\n        children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u041C\\u043D\\u043E\\u0433\\u043E\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u0430\\u044F \\u0438\\u0433\\u0440\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel\",\n        style: {\n          marginTop: 12,\n          display: 'flex',\n          gap: 12,\n          alignItems: 'center',\n          flexWrap: 'wrap'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"kicker\",\n            children: \"\\u041C\\u0438\\u043D\\u0443\\u0442\\u044B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: 1,\n            max: 180,\n            value: minutes,\n            onChange: e => setMinutes(Number(e.target.value)),\n            style: {\n              width: 80,\n              padding: '8px',\n              borderRadius: 6,\n              border: '1px solid #3a3a3a',\n              background: '#2a2a2a',\n              color: '#e6e6e6'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"kicker\",\n            children: \"\\u0418\\u043D\\u043A\\u0440\\u0435\\u043C\\u0435\\u043D\\u0442 (\\u0441\\u0435\\u043A)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: 0,\n            max: 60,\n            value: increment,\n            onChange: e => setIncrement(Number(e.target.value)),\n            style: {\n              width: 120,\n              padding: '8px',\n              borderRadius: 6,\n              border: '1px solid #3a3a3a',\n              background: '#2a2a2a',\n              color: '#e6e6e6'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: createNewGame,\n          className: \"button primary\",\n          children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0438\\u0433\\u0440\\u0443\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"ID \\u0438\\u0433\\u0440\\u044B\",\n          value: gameId,\n          onChange: e => setGameId(e.target.value),\n          style: {\n            padding: '10px 12px',\n            width: 220,\n            marginRight: 8,\n            borderRadius: 6,\n            border: '1px solid #3a3a3a',\n            background: '#2a2a2a',\n            color: '#e6e6e6'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",\n          value: playerName,\n          onChange: e => setPlayerName(e.target.value),\n          style: {\n            padding: '10px 12px',\n            width: 220,\n            marginRight: 8,\n            borderRadius: 6,\n            border: '1px solid #3a3a3a',\n            background: '#2a2a2a',\n            color: '#e6e6e6'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: joinGame,\n          className: \"button\",\n          children: \"\\u041F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel\",\n        style: {\n          marginTop: 16,\n          color: '#ff8a80'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this);\n  }\n  if (gameState === 'joining') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        className: \"button\",\n        style: {\n          marginBottom: 12\n        },\n        children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u041F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u0438\\u0433\\u0440\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel\",\n        style: {\n          marginTop: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"kicker\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"ID \\u0438\\u0433\\u0440\\u044B:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 33\n          }, this), \" \", gameId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"kicker\",\n          children: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u0438\\u0433\\u0440\\u0435.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",\n          value: playerName,\n          onChange: e => setPlayerName(e.target.value),\n          style: {\n            padding: '10px 12px',\n            width: 220,\n            marginRight: 8,\n            borderRadius: 6,\n            border: '1px solid #3a3a3a',\n            background: '#2a2a2a',\n            color: '#e6e6e6'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: joinGame,\n          className: \"button\",\n          children: \"\\u041F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u0438\\u0433\\u0440\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel\",\n        style: {\n          marginTop: 16,\n          color: '#ff8a80'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this);\n  }\n  if (gameState === 'creating') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        className: \"button\",\n        style: {\n          marginBottom: 12\n        },\n        children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0418\\u0433\\u0440\\u0430 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel\",\n        style: {\n          marginTop: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"kicker\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"ID \\u0438\\u0433\\u0440\\u044B:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 33\n          }, this), \" \", gameId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"kicker\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u041A\\u043E\\u043D\\u0442\\u0440\\u043E\\u043B\\u044C \\u0432\\u0440\\u0435\\u043C\\u0435\\u043D\\u0438:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 33\n          }, this), \" \", minutes, \"+\", increment]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"kicker\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u0434\\u043B\\u044F \\u0434\\u0440\\u0443\\u0433\\u0430:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: joinUrl,\n          readOnly: true,\n          style: {\n            width: '100%',\n            padding: '10px 12px',\n            borderRadius: 8,\n            border: '1px solid #3a3a3a',\n            background: '#2a2a2a',\n            color: '#e6e6e6'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 12,\n            display: 'flex',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: copyToClipboard,\n            className: \"button\",\n            children: \"\\u041A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u0441\\u044B\\u043B\\u043A\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: openGameInNewTab,\n            className: \"button info\",\n            children: \"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u0432 \\u043D\\u043E\\u0432\\u043E\\u0439 \\u0432\\u043A\\u043B\\u0430\\u0434\\u043A\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this);\n  }\n  if (gameState === 'playing' && gameData) {\n    const rows = pairMoves(movesSan);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        className: \"button\",\n        style: {\n          marginBottom: 12\n        },\n        children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u041C\\u043D\\u043E\\u0433\\u043E\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u0430\\u044F \\u0438\\u0433\\u0440\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-layout\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-board\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"panel\",\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"kicker\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0412\\u044B \\u0438\\u0433\\u0440\\u0430\\u0435\\u0442\\u0435:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 37\n              }, this), \" \", gameData.color === 'w' ? 'белыми' : 'чёрными']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"kicker\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0425\\u043E\\u0434:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 37\n              }, this), \" \", gameData.currentPlayer === 'w' ? 'белых' : 'чёрных']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"board-responsive\",\n            children: /*#__PURE__*/_jsxDEV(Chessboard, {\n              position: gameData.fen,\n              onPieceDrop: handleMove,\n              boardWidth: 650,\n              boardOrientation: gameData.color === 'w' ? 'white' : 'black'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), gameData.isGameOver && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"panel\",\n            style: {\n              marginTop: 12,\n              color: '#ff8a80',\n              fontWeight: 'bold'\n            },\n            children: gameData.result\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"panel\",\n            style: {\n              marginTop: 12,\n              color: '#ff8a80'\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-sidebar\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"panel game-clock\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                marginTop: 0\n              },\n              children: \"\\u0427\\u0430\\u0441\\u044B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0411\\u0435\\u043B\\u044B\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatMs(displayedClock.wMs)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0427\\u0451\\u0440\\u043D\\u044B\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatMs(displayedClock.bMs)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"panel game-history\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                marginTop: 0\n              },\n              children: \"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F \\u0445\\u043E\\u0434\\u043E\\u0432\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 15\n            }, this), rows.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"kicker\",\n              children: \"\\u041F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u0445\\u043E\\u0434\\u043E\\u0432\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n              style: {\n                width: '100%',\n                borderCollapse: 'collapse'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      textAlign: 'left',\n                      width: 40\n                    },\n                    children: \"#\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      textAlign: 'left'\n                    },\n                    children: \"\\u0411\\u0435\\u043B\\u044B\\u0435\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      textAlign: 'left'\n                    },\n                    children: \"\\u0427\\u0451\\u0440\\u043D\\u044B\\u0435\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: rows.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [r.no, \".\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: r.w\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: r.b\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 442,\n                    columnNumber: 25\n                  }, this)]\n                }, r.no, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n};\n_s(MultiplayerGame, \"mLF3l7cvAxS3RYQRy25efjN5R6E=\", false, function () {\n  return [useNavigate, useSearchParams];\n});\n_c = MultiplayerGame;\nexport default MultiplayerGame;\nvar _c;\n$RefreshReg$(_c, \"MultiplayerGame\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","Chessboard","useNavigate","useSearchParams","Chess","jsxDEV","_jsxDEV","formatMs","ms","s","Math","max","floor","m","sec","toString","padStart","pairMoves","sans","rows","i","length","push","no","w","b","MultiplayerGame","_s","navigate","searchParams","gameId","setGameId","playerName","setPlayerName","gameState","setGameState","gameData","setGameData","joinUrl","setJoinUrl","error","setError","ws","setWs","minutes","setMinutes","increment","setIncrement","authToken","setAuthToken","chess","setChess","movesSan","setMovesSan","clock","setClock","wMs","bMs","lastSyncAt","setLastSyncAt","currentPlayer","setCurrentPlayer","isGameOver","setIsGameOver","tick","setTick","joinGameId","get","createNewGame","response","fetch","method","headers","body","JSON","stringify","data","json","joinLink","window","location","origin","err","joinGame","_data$timeControl","_data$timeControl2","token","connectWebSocket","c","fen","timeControl","Date","now","websocket","WebSocket","onopen","onmessage","event","parse","type","move","from","to","prev","san","result","onerror","handleMove","sourceSquare","targetSquare","color","playerColor","openGameInNewTab","open","copyToClipboard","navigator","clipboard","writeText","id","setInterval","t","clearInterval","displayedClock","elapsed","close","className","children","onClick","style","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","display","gap","alignItems","flexWrap","min","value","onChange","e","Number","target","width","padding","borderRadius","border","background","placeholder","marginRight","readOnly","position","onPieceDrop","boardWidth","boardOrientation","fontWeight","flexDirection","justifyContent","borderCollapse","textAlign","map","r","_c","$RefreshReg$"],"sources":["/home/kirtan-rasa/hardcorechess/client/src/components/MultiplayerGame.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { Chessboard } from 'react-chessboard';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { Chess } from 'chess.js';\n\nconst formatMs = (ms) => {\n  const s = Math.max(0, Math.floor(ms / 1000));\n  const m = Math.floor(s / 60);\n  const sec = s % 60;\n  return `${m}:${sec.toString().padStart(2, '0')}`;\n};\n\nconst pairMoves = (sans) => {\n  const rows = [];\n  for (let i = 0; i < sans.length; i += 2) {\n    rows.push({ no: Math.floor(i / 2) + 1, w: sans[i] || '', b: sans[i + 1] || '' });\n  }\n  return rows;\n};\n\nconst MultiplayerGame = () => {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const [gameId, setGameId] = useState('');\n  const [playerName, setPlayerName] = useState('');\n  const [gameState, setGameState] = useState('menu'); // menu, creating, joining, playing\n  const [gameData, setGameData] = useState(null);\n  const [joinUrl, setJoinUrl] = useState('');\n  const [error, setError] = useState('');\n  const [ws, setWs] = useState(null);\n\n  // time control\n  const [minutes, setMinutes] = useState(5);\n  const [increment, setIncrement] = useState(0);\n\n  // auth token\n  const [authToken, setAuthToken] = useState('');\n\n  // local chess to compute SAN and history\n  const [chess, setChess] = useState(() => new Chess());\n  const [movesSan, setMovesSan] = useState([]);\n\n  // live clock display\n  const [clock, setClock] = useState({ wMs: 0, bMs: 0 });\n  const [lastSyncAt, setLastSyncAt] = useState(null);\n  const [currentPlayer, setCurrentPlayer] = useState('w');\n  const [isGameOver, setIsGameOver] = useState(false);\n  const [tick, setTick] = useState(0);\n\n  // Проверяем, есть ли параметр join в URL\n  useEffect(() => {\n    const joinGameId = searchParams.get('join');\n    if (joinGameId) {\n      setGameId(joinGameId);\n      setGameState('joining');\n    }\n  }, [searchParams]);\n\n  const createNewGame = async () => {\n    try {\n      const response = await fetch('https://hardcorechess.onrender.com/create-multiplayer-game', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ minutes, increment })\n      });\n      const data = await response.json();\n      \n      setGameId(data.gameId);\n      const joinLink = `${window.location.origin}/#/multiplayer?join=${data.gameId}`;\n      setJoinUrl(joinLink);\n      setGameState('creating');\n      setError('');\n      setClock(data.clock || { wMs: minutes * 60000, bMs: minutes * 60000 });\n    } catch (err) {\n      setError('Ошибка при создании игры');\n    }\n  };\n\n  const joinGame = async () => {\n    if (!gameId || !playerName) {\n      setError('Введите ID игры и ваше имя');\n      return;\n    }\n\n    try {\n      const response = await fetch('https://hardcorechess.onrender.com/join-game', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ gameId, playerName })\n      });\n      \n      const data = await response.json();\n      \n      if (data.error) {\n        setError(data.error);\n        return;\n      }\n\n      setAuthToken(data.token || '');\n      setGameData(data);\n      setGameState('playing');\n      connectWebSocket(gameId);\n      setError('');\n\n      // reset local chess from FEN\n      const c = new Chess(data.fen);\n      setChess(c);\n      setMovesSan([]);\n      setClock(data.clock || { wMs: (data.timeControl?.minutes || 5) * 60000, bMs: (data.timeControl?.minutes || 5) * 60000 });\n      setLastSyncAt(Date.now());\n      setCurrentPlayer(data.currentPlayer || 'w');\n      setIsGameOver(false);\n    } catch (err) {\n      setError('Ошибка при присоединении к игре');\n    }\n  };\n\n  const connectWebSocket = (gameId) => {\n    const websocket = new WebSocket(`wss://hardcorechess.onrender.com?gameId=${gameId}`);\n    \n    websocket.onopen = () => {};\n    \n    websocket.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n      if (data.type === 'move') {\n        try {\n          const move = chess.move({ from: data.from, to: data.to });\n          if (move) {\n            setMovesSan(prev => [...prev, move.san]);\n            setChess(new Chess(chess.fen()));\n          }\n        } catch {}\n        setGameData(prev => ({\n          ...prev,\n          fen: data.fen,\n          currentPlayer: data.currentPlayer,\n          isGameOver: data.isGameOver,\n          result: data.result\n        }));\n        if (data.clock) {\n          setClock(data.clock);\n          setLastSyncAt(Date.now());\n        }\n        setCurrentPlayer(data.currentPlayer);\n        setIsGameOver(!!data.isGameOver);\n      }\n    };\n    \n    websocket.onerror = () => {};\n    \n    setWs(websocket);\n  };\n\n  const handleMove = async (sourceSquare, targetSquare) => {\n    if (!gameData || gameData.isGameOver) return false;\n    if (gameData.currentPlayer !== gameData.color) return false;\n\n    try {\n      const response = await fetch('https://hardcorechess.onrender.com/multiplayer-move', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          gameId,\n          from: sourceSquare,\n          to: targetSquare,\n          playerColor: gameData.color,\n          authToken\n        })\n      });\n      \n      const data = await response.json();\n      \n      if (data.error) {\n        setError(data.error);\n        return false;\n      }\n\n      try {\n        const move = chess.move({ from: sourceSquare, to: targetSquare });\n        if (move) {\n          setMovesSan(prev => [...prev, move.san]);\n          setChess(new Chess(chess.fen()));\n        }\n      } catch {}\n\n      setGameData(prev => ({\n        ...prev,\n        fen: data.fen,\n        currentPlayer: data.currentPlayer,\n        isGameOver: data.isGameOver,\n        result: data.result\n      }));\n      if (data.clock) {\n        setClock(data.clock);\n        setLastSyncAt(Date.now());\n      }\n      setCurrentPlayer(data.currentPlayer);\n      setIsGameOver(!!data.isGameOver);\n\n      return true;\n    } catch (err) {\n      setError('Ошибка при выполнении хода');\n      return false;\n    }\n  };\n\n  const openGameInNewTab = () => {\n    window.open(joinUrl, '_blank');\n  };\n\n  const copyToClipboard = () => {\n    navigator.clipboard.writeText(joinUrl);\n  };\n\n  // live ticking effect (forces rerender each 200ms)\n  useEffect(() => {\n    const id = setInterval(() => setTick(t => t + 1), 200);\n    return () => clearInterval(id);\n  }, []);\n\n  const displayedClock = useMemo(() => {\n    if (!lastSyncAt || isGameOver) return clock;\n    const now = Date.now();\n    const elapsed = Math.max(0, now - lastSyncAt);\n    if (currentPlayer === 'w') {\n      return { wMs: Math.max(0, clock.wMs - elapsed), bMs: clock.bMs };\n    } else {\n      return { wMs: clock.wMs, bMs: Math.max(0, clock.bMs - elapsed) };\n    }\n  }, [clock, lastSyncAt, currentPlayer, isGameOver, tick]);\n\n  useEffect(() => {\n    return () => { if (ws) ws.close(); };\n  }, [ws]);\n\n  if (gameState === 'menu') {\n    return (\n      <div className=\"section\">\n        <button onClick={() => navigate('/')} className=\"button\" style={{ marginBottom: 12 }}>Назад</button>\n        <h2>Многопользовательская игра</h2>\n\n        <div className=\"panel\" style={{ marginTop: 12, display: 'flex', gap: 12, alignItems: 'center', flexWrap: 'wrap' }}>\n          <div>\n            <label className=\"kicker\">Минуты</label>\n            <input type=\"number\" min={1} max={180} value={minutes}\n              onChange={(e) => setMinutes(Number(e.target.value))}\n              style={{ width: 80, padding: '8px', borderRadius: 6, border: '1px solid #3a3a3a', background: '#2a2a2a', color: '#e6e6e6' }} />\n          </div>\n          <div>\n            <label className=\"kicker\">Инкремент (сек)</label>\n            <input type=\"number\" min={0} max={60} value={increment}\n              onChange={(e) => setIncrement(Number(e.target.value))}\n              style={{ width: 120, padding: '8px', borderRadius: 6, border: '1px solid #3a3a3a', background: '#2a2a2a', color: '#e6e6e6' }} />\n          </div>\n          <button onClick={createNewGame} className=\"button primary\">Создать игру</button>\n        </div>\n\n        <div className=\"section\">\n          <input\n            type=\"text\"\n            placeholder=\"ID игры\"\n            value={gameId}\n            onChange={(e) => setGameId(e.target.value)}\n            style={{\n              padding: '10px 12px',\n              width: 220,\n              marginRight: 8,\n              borderRadius: 6,\n              border: '1px solid #3a3a3a',\n              background: '#2a2a2a',\n              color: '#e6e6e6'\n            }}\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Ваше имя\"\n            value={playerName}\n            onChange={(e) => setPlayerName(e.target.value)}\n            style={{\n              padding: '10px 12px',\n              width: 220,\n              marginRight: 8,\n              borderRadius: 6,\n              border: '1px solid #3a3a3a',\n              background: '#2a2a2a',\n              color: '#e6e6e6'\n            }}\n          />\n          <button onClick={joinGame} className=\"button\">Присоединиться</button>\n        </div>\n\n        {error && (\n          <div className=\"panel\" style={{ marginTop: 16, color: '#ff8a80' }}>\n            {error}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  if (gameState === 'joining') {\n    return (\n      <div className=\"section\">\n        <button onClick={() => navigate('/')} className=\"button\" style={{ marginBottom: 12 }}>Назад</button>\n        <h2>Присоединиться к игре</h2>\n        \n        <div className=\"panel\" style={{ marginTop: 16 }}>\n          <p className=\"kicker\"><strong>ID игры:</strong> {gameId}</p>\n          <p className=\"kicker\">Введите ваше имя, чтобы присоединиться к игре.</p>\n        </div>\n        \n        <div className=\"section\">\n          <input\n            type=\"text\"\n            placeholder=\"Ваше имя\"\n            value={playerName}\n            onChange={(e) => setPlayerName(e.target.value)}\n            style={{\n              padding: '10px 12px',\n              width: 220,\n              marginRight: 8,\n              borderRadius: 6,\n              border: '1px solid #3a3a3a',\n              background: '#2a2a2a',\n              color: '#e6e6e6'\n            }}\n          />\n          <button onClick={joinGame} className=\"button\">Присоединиться к игре</button>\n        </div>\n        \n        {error && (\n          <div className=\"panel\" style={{ marginTop: 16, color: '#ff8a80' }}>\n            {error}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  if (gameState === 'creating') {\n    return (\n      <div className=\"section\">\n        <button onClick={() => navigate('/')} className=\"button\" style={{ marginBottom: 12 }}>Назад</button>\n        <h2>Игра создана</h2>\n        \n        <div className=\"panel\" style={{ marginTop: 16 }}>\n          <p className=\"kicker\"><strong>ID игры:</strong> {gameId}</p>\n          <p className=\"kicker\"><strong>Контроль времени:</strong> {minutes}+{increment}</p>\n          <p className=\"kicker\"><strong>Ссылка для друга:</strong></p>\n          <input\n            type=\"text\"\n            value={joinUrl}\n            readOnly\n            style={{\n              width: '100%',\n              padding: '10px 12px',\n              borderRadius: 8,\n              border: '1px solid #3a3a3a',\n              background: '#2a2a2a',\n              color: '#e6e6e6'\n            }}\n          />\n          <div style={{ marginTop: 12, display: 'flex', gap: 8 }}>\n            <button onClick={copyToClipboard} className=\"button\">Копировать ссылку</button>\n            <button onClick={openGameInNewTab} className=\"button info\">Открыть в новой вкладке</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (gameState === 'playing' && gameData) {\n    const rows = pairMoves(movesSan);\n    return (\n      <div className=\"section\">\n        <button onClick={() => navigate('/')} className=\"button\" style={{ marginBottom: 12 }}>Назад</button>\n        <h2>Многопользовательская игра</h2>\n        \n        <div className=\"game-layout\">\n          <div className=\"game-board\">\n            <div className=\"panel\" style={{ marginBottom: 12 }}>\n              <p className=\"kicker\"><strong>Вы играете:</strong> {gameData.color === 'w' ? 'белыми' : 'чёрными'}</p>\n              <p className=\"kicker\"><strong>Ход:</strong> {gameData.currentPlayer === 'w' ? 'белых' : 'чёрных'}</p>\n            </div>\n            \n            <div className=\"board-responsive\">\n              <Chessboard\n                position={gameData.fen}\n                onPieceDrop={handleMove}\n                boardWidth={650}\n                boardOrientation={gameData.color === 'w' ? 'white' : 'black'}\n              />\n            </div>\n\n            {gameData.isGameOver && (\n              <div className=\"panel\" style={{ marginTop: 12, color: '#ff8a80', fontWeight: 'bold' }}>\n                {gameData.result}\n              </div>\n            )}\n            \n            {error && (\n              <div className=\"panel\" style={{ marginTop: 12, color: '#ff8a80' }}>\n                {error}\n              </div>\n            )}\n          </div>\n\n          {/* Правая колонка: часы и история ходов */}\n          <div className=\"game-sidebar\">\n            <div className=\"panel game-clock\">\n              <h3 style={{ marginTop: 0 }}>Часы</h3>\n              <div style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                  <span>Белые</span>\n                  <strong>{formatMs(displayedClock.wMs)}</strong>\n                </div>\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                  <span>Чёрные</span>\n                  <strong>{formatMs(displayedClock.bMs)}</strong>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"panel game-history\">\n              <h3 style={{ marginTop: 0 }}>История ходов</h3>\n              {rows.length === 0 ? (\n                <p className=\"kicker\">Пока нет ходов</p>\n              ) : (\n                <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n                  <thead>\n                    <tr>\n                      <th style={{ textAlign: 'left', width: 40 }}>#</th>\n                      <th style={{ textAlign: 'left' }}>Белые</th>\n                      <th style={{ textAlign: 'left' }}>Чёрные</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {rows.map((r) => (\n                      <tr key={r.no}>\n                        <td>{r.no}.</td>\n                        <td>{r.w}</td>\n                        <td>{r.b}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport default MultiplayerGame;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}