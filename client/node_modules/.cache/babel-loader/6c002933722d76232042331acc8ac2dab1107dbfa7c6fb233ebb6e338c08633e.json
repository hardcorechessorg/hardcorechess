{"ast":null,"code":"import _objectSpread from\"C:/Users/chich/chess-platform/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Chessboard}from'react-chessboard';import{useNavigate,useSearchParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MultiplayerGame=()=>{const navigate=useNavigate();const[searchParams]=useSearchParams();const[gameId,setGameId]=useState('');const[playerName,setPlayerName]=useState('');const[gameState,setGameState]=useState('menu');// menu, creating, joining, playing\nconst[gameData,setGameData]=useState(null);const[joinUrl,setJoinUrl]=useState('');const[error,setError]=useState('');const[ws,setWs]=useState(null);// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä join –≤ URL\nuseEffect(()=>{const joinGameId=searchParams.get('join');if(joinGameId){setGameId(joinGameId);setGameState('joining');}},[searchParams]);const createNewGame=async()=>{try{const response=await fetch('https://www.hardcorechess.org/create-multiplayer-game',{method:'POST'});const data=await response.json();setGameId(data.gameId);// –°–æ–∑–¥–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –¥–ª—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å HashRouter\nconst joinLink=\"\".concat(window.location.origin,\"/#/multiplayer?join=\").concat(data.gameId);setJoinUrl(joinLink);setGameState('creating');setError('');}catch(err){setError('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–≥—Ä—ã');}};const joinGame=async()=>{if(!gameId||!playerName){setError('–í–≤–µ–¥–∏—Ç–µ ID –∏–≥—Ä—ã –∏ –≤–∞—à–µ –∏–º—è');return;}try{const response=await fetch('https://www.hardcorechess.org/join-game',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({gameId,playerName})});const data=await response.json();if(data.error){setError(data.error);return;}setGameData(data);setGameState('playing');connectWebSocket(gameId);setError('');}catch(err){setError('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –∫ –∏–≥—Ä–µ');}};const connectWebSocket=gameId=>{const websocket=new WebSocket(\"wss://www.hardcorechess.org?gameId=\".concat(gameId));websocket.onopen=()=>{console.log('WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');};websocket.onmessage=event=>{const data=JSON.parse(event.data);if(data.type==='move'){setGameData(prev=>_objectSpread(_objectSpread({},prev),{},{fen:data.fen,currentPlayer:data.currentPlayer,isGameOver:data.isGameOver,result:data.result}));}};websocket.onerror=error=>{console.error('WebSocket –æ—à–∏–±–∫–∞:',error);};setWs(websocket);};const handleMove=async(sourceSquare,targetSquare)=>{if(!gameData||gameData.isGameOver)return false;// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á–µ–π —Ö–æ–¥\nif(gameData.currentPlayer!==gameData.color){return false;// –ù–µ –≤–∞—à —Ö–æ–¥\n}try{const response=await fetch('https://www.hardcorechess.org/multiplayer-move',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({gameId,from:sourceSquare,to:targetSquare,playerColor:gameData.color})});const data=await response.json();if(data.error){setError(data.error);return false;}setGameData(prev=>_objectSpread(_objectSpread({},prev),{},{fen:data.fen,currentPlayer:data.currentPlayer,isGameOver:data.isGameOver,result:data.result}));return true;}catch(err){setError('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ö–æ–¥–∞');return false;}};const openGameInNewTab=()=>{window.open(joinUrl,'_blank');};const copyToClipboard=()=>{navigator.clipboard.writeText(joinUrl);// –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏\n};useEffect(()=>{return()=>{if(ws){ws.close();}};},[ws]);if(gameState==='menu'){return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',maxWidth:'600px',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),style:{position:'absolute',top:'20px',left:'20px',padding:'10px 20px',backgroundColor:'#666',color:'white',border:'none',borderRadius:'5px',cursor:'pointer'},children:\"\\u2190 \\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFAE \\u041C\\u043D\\u043E\\u0433\\u043E\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u0430\\u044F \\u0438\\u0433\\u0440\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:createNewGame,style:{padding:'15px 30px',fontSize:'1.2em',backgroundColor:'#4CAF50',color:'white',border:'none',borderRadius:'10px',cursor:'pointer',margin:'10px',width:'200px'},children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0438\\u0433\\u0440\\u0443\"}),/*#__PURE__*/_jsx(\"div\",{style:{margin:'20px 0',fontSize:'1.1em'},children:\"\\u0438\\u043B\\u0438\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"ID \\u0438\\u0433\\u0440\\u044B\",value:gameId,onChange:e=>setGameId(e.target.value),style:{padding:'12px',fontSize:'1em',width:'200px',margin:'5px',borderRadius:'5px',border:'1px solid #ddd'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",value:playerName,onChange:e=>setPlayerName(e.target.value),style:{padding:'12px',fontSize:'1em',width:'200px',margin:'5px',borderRadius:'5px',border:'1px solid #ddd'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:joinGame,style:{padding:'12px 25px',fontSize:'1em',backgroundColor:'#2196F3',color:'white',border:'none',borderRadius:'8px',cursor:'pointer',margin:'10px',width:'200px'},children:\"\\u041F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F\"})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',marginTop:'20px'},children:error})]});}if(gameState==='joining'){return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',maxWidth:'600px',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),style:{position:'absolute',top:'20px',left:'20px',padding:'10px 20px',backgroundColor:'#666',color:'white',border:'none',borderRadius:'5px',cursor:'pointer'},children:\"\\u2190 \\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFAE \\u041F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u0438\\u0433\\u0440\\u0435\"}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#e3f2fd',padding:'20px',borderRadius:'10px',margin:'20px 0'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID \\u0438\\u0433\\u0440\\u044B:\"}),\" \",gameId]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u0438\\u0433\\u0440\\u0435.\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",value:playerName,onChange:e=>setPlayerName(e.target.value),style:{padding:'12px',fontSize:'1em',width:'200px',margin:'5px',borderRadius:'5px',border:'1px solid #ddd'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:joinGame,style:{padding:'12px 25px',fontSize:'1em',backgroundColor:'#2196F3',color:'white',border:'none',borderRadius:'8px',cursor:'pointer',margin:'10px',width:'200px'},children:\"\\u041F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u0438\\u0433\\u0440\\u0435\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',marginTop:'20px'},children:error})]});}if(gameState==='creating'){return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',maxWidth:'600px',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),style:{position:'absolute',top:'20px',left:'20px',padding:'10px 20px',backgroundColor:'#666',color:'white',border:'none',borderRadius:'5px',cursor:'pointer'},children:\"\\u2190 \\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFAE \\u0418\\u0433\\u0440\\u0430 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0430!\"}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#f0f0f0',padding:'20px',borderRadius:'10px',margin:'20px 0'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID \\u0438\\u0433\\u0440\\u044B:\"}),\" \",gameId]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u0434\\u043B\\u044F \\u0434\\u0440\\u0443\\u0433\\u0430:\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:joinUrl,readOnly:true,style:{width:'100%',padding:'10px',fontSize:'1em',border:'1px solid #ddd',borderRadius:'5px',backgroundColor:'white'}}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px',display:'flex',gap:'10px',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:copyToClipboard,style:{padding:'8px 16px',backgroundColor:'#4CAF50',color:'white',border:'none',borderRadius:'5px',cursor:'pointer'},children:\"\\u041A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u0441\\u044B\\u043B\\u043A\\u0443\"}),/*#__PURE__*/_jsx(\"button\",{onClick:openGameInNewTab,style:{padding:'8px 16px',backgroundColor:'#2196F3',color:'white',border:'none',borderRadius:'5px',cursor:'pointer'},children:\"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u0432 \\u043D\\u043E\\u0432\\u043E\\u0439 \\u0432\\u043A\\u043B\\u0430\\u0434\\u043A\\u0435\"})]})]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u044C\\u0442\\u0435 \\u044D\\u0442\\u0443 \\u0441\\u0441\\u044B\\u043B\\u043A\\u0443 \\u0434\\u0440\\u0443\\u0433\\u0443, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043E\\u043D \\u043C\\u043E\\u0433 \\u043F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u0438\\u0433\\u0440\\u0435.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041E\\u0436\\u0438\\u0434\\u0430\\u043D\\u0438\\u0435 \\u0432\\u0442\\u043E\\u0440\\u043E\\u0433\\u043E \\u0438\\u0433\\u0440\\u043E\\u043A\\u0430...\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",value:playerName,onChange:e=>setPlayerName(e.target.value),style:{padding:'12px',fontSize:'1em',width:'200px',margin:'5px',borderRadius:'5px',border:'1px solid #ddd'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:joinGame,style:{padding:'12px 25px',fontSize:'1em',backgroundColor:'#2196F3',color:'white',border:'none',borderRadius:'8px',cursor:'pointer',margin:'10px',width:'200px'},children:\"\\u041F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A\\u0430\\u043A \\u0441\\u043E\\u0437\\u0434\\u0430\\u0442\\u0435\\u043B\\u044C\"})]})]});}if(gameState==='playing'&&gameData){return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),style:{position:'absolute',top:'20px',left:'20px',padding:'10px 20px',backgroundColor:'#666',color:'white',border:'none',borderRadius:'5px',cursor:'pointer'},children:\"\\u2190 \\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFAE \\u041C\\u043D\\u043E\\u0433\\u043E\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u0430\\u044F \\u0438\\u0433\\u0440\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0418\\u0433\\u0440\\u0430:\"}),\" \",gameId]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0412\\u044B \\u0438\\u0433\\u0440\\u0430\\u0435\\u0442\\u0435:\"}),\" \",gameData.color==='w'?'–±–µ–ª—ã–º–∏':'—á–µ—Ä–Ω—ã–º–∏']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0425\\u043E\\u0434:\"}),\" \",gameData.currentPlayer==='w'?'–±–µ–ª—ã—Ö':'—á–µ—Ä–Ω—ã—Ö']}),gameData.currentPlayer===gameData.color&&/*#__PURE__*/_jsx(\"p\",{style:{color:'#4CAF50',fontWeight:'bold'},children:\"\\u0412\\u0430\\u0448 \\u0445\\u043E\\u0434!\"})]}),/*#__PURE__*/_jsx(Chessboard,{position:gameData.fen,onPieceDrop:handleMove,boardWidth:600}),gameData.isGameOver&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'20px',padding:'15px',backgroundColor:'#ffebee',borderRadius:'10px',color:'#c62828',fontWeight:'bold',fontSize:'1.2em'},children:gameData.result}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',marginTop:'20px'},children:error})]});}return null;};export default MultiplayerGame;","map":{"version":3,"names":["React","useState","useEffect","Chessboard","useNavigate","useSearchParams","jsx","_jsx","jsxs","_jsxs","MultiplayerGame","navigate","searchParams","gameId","setGameId","playerName","setPlayerName","gameState","setGameState","gameData","setGameData","joinUrl","setJoinUrl","error","setError","ws","setWs","joinGameId","get","createNewGame","response","fetch","method","data","json","joinLink","concat","window","location","origin","err","joinGame","headers","body","JSON","stringify","connectWebSocket","websocket","WebSocket","onopen","console","log","onmessage","event","parse","type","prev","_objectSpread","fen","currentPlayer","isGameOver","result","onerror","handleMove","sourceSquare","targetSquare","color","from","to","playerColor","openGameInNewTab","open","copyToClipboard","navigator","clipboard","writeText","close","style","textAlign","maxWidth","margin","children","onClick","position","top","left","padding","backgroundColor","border","borderRadius","cursor","marginTop","fontSize","width","placeholder","value","onChange","e","target","readOnly","display","gap","justifyContent","marginBottom","fontWeight","onPieceDrop","boardWidth"],"sources":["C:/Users/chich/chess-platform/client/src/components/MultiplayerGame.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Chessboard } from 'react-chessboard';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\n\r\nconst MultiplayerGame = () => {\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n  const [gameId, setGameId] = useState('');\r\n  const [playerName, setPlayerName] = useState('');\r\n  const [gameState, setGameState] = useState('menu'); // menu, creating, joining, playing\r\n  const [gameData, setGameData] = useState(null);\r\n  const [joinUrl, setJoinUrl] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [ws, setWs] = useState(null);\r\n\r\n  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä join –≤ URL\r\n  useEffect(() => {\r\n    const joinGameId = searchParams.get('join');\r\n    if (joinGameId) {\r\n      setGameId(joinGameId);\r\n      setGameState('joining');\r\n    }\r\n  }, [searchParams]);\r\n\r\n  const createNewGame = async () => {\r\n    try {\r\n      const response = await fetch('https://www.hardcorechess.org/create-multiplayer-game', {\r\n        method: 'POST'\r\n      });\r\n      const data = await response.json();\r\n      \r\n      setGameId(data.gameId);\r\n      // –°–æ–∑–¥–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –¥–ª—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å HashRouter\r\n      const joinLink = `${window.location.origin}/#/multiplayer?join=${data.gameId}`;\r\n      setJoinUrl(joinLink);\r\n      setGameState('creating');\r\n      setError('');\r\n    } catch (err) {\r\n      setError('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–≥—Ä—ã');\r\n    }\r\n  };\r\n\r\n  const joinGame = async () => {\r\n    if (!gameId || !playerName) {\r\n      setError('–í–≤–µ–¥–∏—Ç–µ ID –∏–≥—Ä—ã –∏ –≤–∞—à–µ –∏–º—è');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('https://www.hardcorechess.org/join-game', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ gameId, playerName })\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (data.error) {\r\n        setError(data.error);\r\n        return;\r\n      }\r\n\r\n      setGameData(data);\r\n      setGameState('playing');\r\n      connectWebSocket(gameId);\r\n      setError('');\r\n    } catch (err) {\r\n      setError('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –∫ –∏–≥—Ä–µ');\r\n    }\r\n  };\r\n\r\n  const connectWebSocket = (gameId) => {\r\n    const websocket = new WebSocket(`wss://www.hardcorechess.org?gameId=${gameId}`);\r\n    \r\n    websocket.onopen = () => {\r\n      console.log('WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');\r\n    };\r\n    \r\n    websocket.onmessage = (event) => {\r\n      const data = JSON.parse(event.data);\r\n      if (data.type === 'move') {\r\n        setGameData(prev => ({\r\n          ...prev,\r\n          fen: data.fen,\r\n          currentPlayer: data.currentPlayer,\r\n          isGameOver: data.isGameOver,\r\n          result: data.result\r\n        }));\r\n      }\r\n    };\r\n    \r\n    websocket.onerror = (error) => {\r\n      console.error('WebSocket –æ—à–∏–±–∫–∞:', error);\r\n    };\r\n    \r\n    setWs(websocket);\r\n  };\r\n\r\n  const handleMove = async (sourceSquare, targetSquare) => {\r\n    if (!gameData || gameData.isGameOver) return false;\r\n    \r\n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á–µ–π —Ö–æ–¥\r\n    if (gameData.currentPlayer !== gameData.color) {\r\n      return false; // –ù–µ –≤–∞—à —Ö–æ–¥\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('https://www.hardcorechess.org/multiplayer-move', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          gameId,\r\n          from: sourceSquare,\r\n          to: targetSquare,\r\n          playerColor: gameData.color\r\n        })\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (data.error) {\r\n        setError(data.error);\r\n        return false;\r\n      }\r\n\r\n      setGameData(prev => ({\r\n        ...prev,\r\n        fen: data.fen,\r\n        currentPlayer: data.currentPlayer,\r\n        isGameOver: data.isGameOver,\r\n        result: data.result\r\n      }));\r\n\r\n      return true;\r\n    } catch (err) {\r\n      setError('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ö–æ–¥–∞');\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const openGameInNewTab = () => {\r\n    window.open(joinUrl, '_blank');\r\n  };\r\n\r\n  const copyToClipboard = () => {\r\n    navigator.clipboard.writeText(joinUrl);\r\n    // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (ws) {\r\n        ws.close();\r\n      }\r\n    };\r\n  }, [ws]);\r\n\r\n  if (gameState === 'menu') {\r\n    return (\r\n      <div style={{ textAlign: 'center', maxWidth: '600px', margin: '0 auto' }}>\r\n        <button \r\n          onClick={() => navigate('/')}\r\n          style={{\r\n            position: 'absolute',\r\n            top: '20px',\r\n            left: '20px',\r\n            padding: '10px 20px',\r\n            backgroundColor: '#666',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '5px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          ‚Üê –ù–∞–∑–∞–¥\r\n        </button>\r\n        \r\n        <h2>üéÆ –ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∏–≥—Ä–∞</h2>\r\n        \r\n        <div style={{ marginTop: '30px' }}>\r\n          <button\r\n            onClick={createNewGame}\r\n            style={{\r\n              padding: '15px 30px',\r\n              fontSize: '1.2em',\r\n              backgroundColor: '#4CAF50',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '10px',\r\n              cursor: 'pointer',\r\n              margin: '10px',\r\n              width: '200px'\r\n            }}\r\n          >\r\n            –°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É\r\n          </button>\r\n          \r\n          <div style={{ margin: '20px 0', fontSize: '1.1em' }}>\r\n            –∏–ª–∏\r\n          </div>\r\n          \r\n          <div style={{ marginTop: '20px' }}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"ID –∏–≥—Ä—ã\"\r\n              value={gameId}\r\n              onChange={(e) => setGameId(e.target.value)}\r\n              style={{\r\n                padding: '12px',\r\n                fontSize: '1em',\r\n                width: '200px',\r\n                margin: '5px',\r\n                borderRadius: '5px',\r\n                border: '1px solid #ddd'\r\n              }}\r\n            />\r\n            <br />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"–í–∞—à–µ –∏–º—è\"\r\n              value={playerName}\r\n              onChange={(e) => setPlayerName(e.target.value)}\r\n              style={{\r\n                padding: '12px',\r\n                fontSize: '1em',\r\n                width: '200px',\r\n                margin: '5px',\r\n                borderRadius: '5px',\r\n                border: '1px solid #ddd'\r\n              }}\r\n            />\r\n            <br />\r\n            <button\r\n              onClick={joinGame}\r\n              style={{\r\n                padding: '12px 25px',\r\n                fontSize: '1em',\r\n                backgroundColor: '#2196F3',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '8px',\r\n                cursor: 'pointer',\r\n                margin: '10px',\r\n                width: '200px'\r\n              }}\r\n            >\r\n              –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        {error && (\r\n          <div style={{ color: 'red', marginTop: '20px' }}>\r\n            {error}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (gameState === 'joining') {\r\n    return (\r\n      <div style={{ textAlign: 'center', maxWidth: '600px', margin: '0 auto' }}>\r\n        <button \r\n          onClick={() => navigate('/')}\r\n          style={{\r\n            position: 'absolute',\r\n            top: '20px',\r\n            left: '20px',\r\n            padding: '10px 20px',\r\n            backgroundColor: '#666',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '5px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          ‚Üê –ù–∞–∑–∞–¥\r\n        </button>\r\n        \r\n        <h2>üéÆ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ</h2>\r\n        \r\n        <div style={{ \r\n          backgroundColor: '#e3f2fd', \r\n          padding: '20px', \r\n          borderRadius: '10px',\r\n          margin: '20px 0'\r\n        }}>\r\n          <p><strong>ID –∏–≥—Ä—ã:</strong> {gameId}</p>\r\n          <p>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è, —á—Ç–æ–±—ã –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ.</p>\r\n        </div>\r\n        \r\n        <div style={{ marginTop: '30px' }}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"–í–∞—à–µ –∏–º—è\"\r\n            value={playerName}\r\n            onChange={(e) => setPlayerName(e.target.value)}\r\n            style={{\r\n              padding: '12px',\r\n              fontSize: '1em',\r\n              width: '200px',\r\n              margin: '5px',\r\n              borderRadius: '5px',\r\n              border: '1px solid #ddd'\r\n            }}\r\n          />\r\n          <br />\r\n          <button\r\n            onClick={joinGame}\r\n            style={{\r\n              padding: '12px 25px',\r\n              fontSize: '1em',\r\n              backgroundColor: '#2196F3',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '8px',\r\n              cursor: 'pointer',\r\n              margin: '10px',\r\n              width: '200px'\r\n            }}\r\n          >\r\n            –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ\r\n          </button>\r\n        </div>\r\n        \r\n        {error && (\r\n          <div style={{ color: 'red', marginTop: '20px' }}>\r\n            {error}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (gameState === 'creating') {\r\n    return (\r\n      <div style={{ textAlign: 'center', maxWidth: '600px', margin: '0 auto' }}>\r\n        <button \r\n          onClick={() => navigate('/')}\r\n          style={{\r\n            position: 'absolute',\r\n            top: '20px',\r\n            left: '20px',\r\n            padding: '10px 20px',\r\n            backgroundColor: '#666',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '5px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          ‚Üê –ù–∞–∑–∞–¥\r\n        </button>\r\n        \r\n        <h2>üéÆ –ò–≥—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞!</h2>\r\n        \r\n        <div style={{ \r\n          backgroundColor: '#f0f0f0', \r\n          padding: '20px', \r\n          borderRadius: '10px',\r\n          margin: '20px 0'\r\n        }}>\r\n          <p><strong>ID –∏–≥—Ä—ã:</strong> {gameId}</p>\r\n          <p><strong>–°—Å—ã–ª–∫–∞ –¥–ª—è –¥—Ä—É–≥–∞:</strong></p>\r\n          <input\r\n            type=\"text\"\r\n            value={joinUrl}\r\n            readOnly\r\n            style={{\r\n              width: '100%',\r\n              padding: '10px',\r\n              fontSize: '1em',\r\n              border: '1px solid #ddd',\r\n              borderRadius: '5px',\r\n              backgroundColor: 'white'\r\n            }}\r\n          />\r\n          <div style={{ marginTop: '15px', display: 'flex', gap: '10px', justifyContent: 'center' }}>\r\n            <button\r\n              onClick={copyToClipboard}\r\n              style={{\r\n                padding: '8px 16px',\r\n                backgroundColor: '#4CAF50',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '5px',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É\r\n            </button>\r\n            <button\r\n              onClick={openGameInNewTab}\r\n              style={{\r\n                padding: '8px 16px',\r\n                backgroundColor: '#2196F3',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '5px',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              –û—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <p>–û—Ç–ø—Ä–∞–≤—å—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –¥—Ä—É–≥—É, —á—Ç–æ–±—ã –æ–Ω –º–æ–≥ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ.</p>\r\n        <p>–û–∂–∏–¥–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞...</p>\r\n        \r\n        <div style={{ marginTop: '30px' }}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"–í–∞—à–µ –∏–º—è\"\r\n            value={playerName}\r\n            onChange={(e) => setPlayerName(e.target.value)}\r\n            style={{\r\n              padding: '12px',\r\n              fontSize: '1em',\r\n              width: '200px',\r\n              margin: '5px',\r\n              borderRadius: '5px',\r\n              border: '1px solid #ddd'\r\n            }}\r\n          />\r\n          <br />\r\n          <button\r\n            onClick={joinGame}\r\n            style={{\r\n              padding: '12px 25px',\r\n              fontSize: '1em',\r\n              backgroundColor: '#2196F3',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '8px',\r\n              cursor: 'pointer',\r\n              margin: '10px',\r\n              width: '200px'\r\n            }}\r\n          >\r\n            –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫–∞–∫ —Å–æ–∑–¥–∞—Ç–µ–ª—å\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (gameState === 'playing' && gameData) {\r\n    return (\r\n      <div style={{ textAlign: 'center' }}>\r\n        <button \r\n          onClick={() => navigate('/')}\r\n          style={{\r\n            position: 'absolute',\r\n            top: '20px',\r\n            left: '20px',\r\n            padding: '10px 20px',\r\n            backgroundColor: '#666',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '5px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          ‚Üê –ù–∞–∑–∞–¥\r\n        </button>\r\n        \r\n        <h2>üéÆ –ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∏–≥—Ä–∞</h2>\r\n        \r\n        <div style={{ marginBottom: '20px' }}>\r\n          <p><strong>–ò–≥—Ä–∞:</strong> {gameId}</p>\r\n          <p><strong>–í—ã –∏–≥—Ä–∞–µ—Ç–µ:</strong> {gameData.color === 'w' ? '–±–µ–ª—ã–º–∏' : '—á–µ—Ä–Ω—ã–º–∏'}</p>\r\n          <p><strong>–•–æ–¥:</strong> {gameData.currentPlayer === 'w' ? '–±–µ–ª—ã—Ö' : '—á–µ—Ä–Ω—ã—Ö'}</p>\r\n          {gameData.currentPlayer === gameData.color && (\r\n            <p style={{ color: '#4CAF50', fontWeight: 'bold' }}>–í–∞—à —Ö–æ–¥!</p>\r\n          )}\r\n        </div>\r\n        \r\n        <Chessboard\r\n          position={gameData.fen}\r\n          onPieceDrop={handleMove}\r\n          boardWidth={600}\r\n        />\r\n        \r\n        {gameData.isGameOver && (\r\n          <div style={{ \r\n            marginTop: '20px', \r\n            padding: '15px',\r\n            backgroundColor: '#ffebee',\r\n            borderRadius: '10px',\r\n            color: '#c62828',\r\n            fontWeight: 'bold',\r\n            fontSize: '1.2em'\r\n          }}>\r\n            {gameData.result}\r\n          </div>\r\n        )}\r\n        \r\n        {error && (\r\n          <div style={{ color: 'red', marginTop: '20px' }}>\r\n            {error}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default MultiplayerGame;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}