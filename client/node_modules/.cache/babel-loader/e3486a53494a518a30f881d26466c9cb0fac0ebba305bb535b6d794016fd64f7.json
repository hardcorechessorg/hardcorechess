{"ast":null,"code":"import _objectSpread from\"/home/kirtan-rasa/hardcorechess/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo}from'react';import{Chessboard}from'react-chessboard';import{useNavigate,useSearchParams}from'react-router-dom';import{Chess}from'chess.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const formatMs=ms=>{const s=Math.max(0,Math.floor(ms/1000));const m=Math.floor(s/60);const sec=s%60;return\"\".concat(m,\":\").concat(sec.toString().padStart(2,'0'));};const pairMoves=sans=>{const rows=[];for(let i=0;i<sans.length;i+=2){rows.push({no:Math.floor(i/2)+1,w:sans[i]||'',b:sans[i+1]||''});}return rows;};const MultiplayerGame=()=>{const navigate=useNavigate();const[searchParams]=useSearchParams();const[gameId,setGameId]=useState('');const[playerName,setPlayerName]=useState('');const[gameState,setGameState]=useState('menu');// menu, creating, joining, playing\nconst[gameData,setGameData]=useState(null);const[joinUrl,setJoinUrl]=useState('');const[error,setError]=useState('');const[ws,setWs]=useState(null);// time control\nconst[minutes,setMinutes]=useState(5);const[increment,setIncrement]=useState(0);// auth token\nconst[authToken,setAuthToken]=useState('');// local chess to compute SAN and history\nconst[chess,setChess]=useState(()=>new Chess());const[movesSan,setMovesSan]=useState([]);// live clock display\nconst[clock,setClock]=useState({wMs:0,bMs:0});const[lastSyncAt,setLastSyncAt]=useState(null);const[currentPlayer,setCurrentPlayer]=useState('w');const[isGameOver,setIsGameOver]=useState(false);const[tick,setTick]=useState(0);// Проверяем, есть ли параметр join в URL\nuseEffect(()=>{const joinGameId=searchParams.get('join');if(joinGameId){setGameId(joinGameId);setGameState('joining');}},[searchParams]);const createNewGame=async()=>{try{const response=await fetch('https://hardcorechess.onrender.com/create-multiplayer-game',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({minutes,increment})});const data=await response.json();setGameId(data.gameId);const joinLink=\"\".concat(window.location.origin,\"/#/multiplayer?join=\").concat(data.gameId);setJoinUrl(joinLink);setGameState('creating');setError('');setClock(data.clock||{wMs:minutes*60000,bMs:minutes*60000});}catch(err){setError('Ошибка при создании игры');}};const joinGame=async()=>{if(!gameId||!playerName){setError('Введите ID игры и ваше имя');return;}try{var _data$timeControl,_data$timeControl2;const response=await fetch('https://hardcorechess.onrender.com/join-game',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({gameId,playerName})});const data=await response.json();if(data.error){setError(data.error);return;}setAuthToken(data.token||'');setGameData(data);setGameState('playing');connectWebSocket(gameId);setError('');// reset local chess from FEN\nconst c=new Chess(data.fen);setChess(c);setMovesSan([]);setClock(data.clock||{wMs:(((_data$timeControl=data.timeControl)===null||_data$timeControl===void 0?void 0:_data$timeControl.minutes)||5)*60000,bMs:(((_data$timeControl2=data.timeControl)===null||_data$timeControl2===void 0?void 0:_data$timeControl2.minutes)||5)*60000});setLastSyncAt(Date.now());setCurrentPlayer(data.currentPlayer||'w');setIsGameOver(false);}catch(err){setError('Ошибка при присоединении к игре');}};const connectWebSocket=gameId=>{const websocket=new WebSocket(\"wss://hardcorechess.onrender.com?gameId=\".concat(gameId));websocket.onopen=()=>{};websocket.onmessage=event=>{const data=JSON.parse(event.data);if(data.type==='move'){try{const move=chess.move({from:data.from,to:data.to});if(move){setMovesSan(prev=>[...prev,move.san]);setChess(new Chess(chess.fen()));}}catch(_unused){}setGameData(prev=>_objectSpread(_objectSpread({},prev),{},{fen:data.fen,currentPlayer:data.currentPlayer,isGameOver:data.isGameOver,result:data.result}));if(data.clock){setClock(data.clock);setLastSyncAt(Date.now());}setCurrentPlayer(data.currentPlayer);setIsGameOver(!!data.isGameOver);}};websocket.onerror=()=>{};setWs(websocket);};const handleMove=async(sourceSquare,targetSquare)=>{if(!gameData||gameData.isGameOver)return false;if(gameData.currentPlayer!==gameData.color)return false;try{const response=await fetch('https://hardcorechess.onrender.com/multiplayer-move',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({gameId,from:sourceSquare,to:targetSquare,playerColor:gameData.color,authToken})});const data=await response.json();if(data.error){setError(data.error);return false;}try{const move=chess.move({from:sourceSquare,to:targetSquare});if(move){setMovesSan(prev=>[...prev,move.san]);setChess(new Chess(chess.fen()));}}catch(_unused2){}setGameData(prev=>_objectSpread(_objectSpread({},prev),{},{fen:data.fen,currentPlayer:data.currentPlayer,isGameOver:data.isGameOver,result:data.result}));if(data.clock){setClock(data.clock);setLastSyncAt(Date.now());}setCurrentPlayer(data.currentPlayer);setIsGameOver(!!data.isGameOver);return true;}catch(err){setError('Ошибка при выполнении хода');return false;}};const openGameInNewTab=()=>{window.open(joinUrl,'_blank');};const copyToClipboard=()=>{navigator.clipboard.writeText(joinUrl);};// live ticking effect (forces rerender each 200ms)\nuseEffect(()=>{const id=setInterval(()=>setTick(t=>t+1),200);return()=>clearInterval(id);},[]);const displayedClock=useMemo(()=>{if(!lastSyncAt||isGameOver)return clock;const now=Date.now();const elapsed=Math.max(0,now-lastSyncAt);if(currentPlayer==='w'){return{wMs:Math.max(0,clock.wMs-elapsed),bMs:clock.bMs};}else{return{wMs:clock.wMs,bMs:Math.max(0,clock.bMs-elapsed)};}},[clock,lastSyncAt,currentPlayer,isGameOver,tick]);useEffect(()=>{return()=>{if(ws)ws.close();};},[ws]);if(gameState==='menu'){return/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"button\",style:{marginBottom:12},children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041C\\u043D\\u043E\\u0433\\u043E\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u0430\\u044F \\u0438\\u0433\\u0440\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel\",style:{marginTop:12,display:'flex',gap:12,alignItems:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"kicker\",children:\"\\u041C\\u0438\\u043D\\u0443\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,max:180,value:minutes,onChange:e=>setMinutes(Number(e.target.value)),style:{width:80,padding:'8px',borderRadius:6,border:'1px solid #3a3a3a',background:'#2a2a2a',color:'#e6e6e6'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"kicker\",children:\"\\u0418\\u043D\\u043A\\u0440\\u0435\\u043C\\u0435\\u043D\\u0442 (\\u0441\\u0435\\u043A)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:0,max:60,value:increment,onChange:e=>setIncrement(Number(e.target.value)),style:{width:120,padding:'8px',borderRadius:6,border:'1px solid #3a3a3a',background:'#2a2a2a',color:'#e6e6e6'}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:createNewGame,className:\"button primary\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0438\\u0433\\u0440\\u0443\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"ID \\u0438\\u0433\\u0440\\u044B\",value:gameId,onChange:e=>setGameId(e.target.value),style:{padding:'10px 12px',width:220,marginRight:8,borderRadius:6,border:'1px solid #3a3a3a',background:'#2a2a2a',color:'#e6e6e6'}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",value:playerName,onChange:e=>setPlayerName(e.target.value),style:{padding:'10px 12px',width:220,marginRight:8,borderRadius:6,border:'1px solid #3a3a3a',background:'#2a2a2a',color:'#e6e6e6'}}),/*#__PURE__*/_jsx(\"button\",{onClick:joinGame,className:\"button\",children:\"\\u041F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"panel\",style:{marginTop:16,color:'#ff8a80'},children:error})]});}if(gameState==='joining'){return/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"button\",style:{marginBottom:12},children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u0438\\u0433\\u0440\\u0435\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel\",style:{marginTop:16},children:[/*#__PURE__*/_jsxs(\"p\",{className:\"kicker\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID \\u0438\\u0433\\u0440\\u044B:\"}),\" \",gameId]}),/*#__PURE__*/_jsx(\"p\",{className:\"kicker\",children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u0438\\u0433\\u0440\\u0435.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",value:playerName,onChange:e=>setPlayerName(e.target.value),style:{padding:'10px 12px',width:220,marginRight:8,borderRadius:6,border:'1px solid #3a3a3a',background:'#2a2a2a',color:'#e6e6e6'}}),/*#__PURE__*/_jsx(\"button\",{onClick:joinGame,className:\"button\",children:\"\\u041F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F \\u043A \\u0438\\u0433\\u0440\\u0435\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"panel\",style:{marginTop:16,color:'#ff8a80'},children:error})]});}if(gameState==='creating'){return/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"button\",style:{marginBottom:12},children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0418\\u0433\\u0440\\u0430 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel\",style:{marginTop:16},children:[/*#__PURE__*/_jsxs(\"p\",{className:\"kicker\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID \\u0438\\u0433\\u0440\\u044B:\"}),\" \",gameId]}),/*#__PURE__*/_jsxs(\"p\",{className:\"kicker\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041A\\u043E\\u043D\\u0442\\u0440\\u043E\\u043B\\u044C \\u0432\\u0440\\u0435\\u043C\\u0435\\u043D\\u0438:\"}),\" \",minutes,\"+\",increment]}),/*#__PURE__*/_jsx(\"p\",{className:\"kicker\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u0434\\u043B\\u044F \\u0434\\u0440\\u0443\\u0433\\u0430:\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:joinUrl,readOnly:true,style:{width:'100%',padding:'10px 12px',borderRadius:8,border:'1px solid #3a3a3a',background:'#2a2a2a',color:'#e6e6e6'}}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12,display:'flex',gap:8},children:[/*#__PURE__*/_jsx(\"button\",{onClick:copyToClipboard,className:\"button\",children:\"\\u041A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u0441\\u044B\\u043B\\u043A\\u0443\"}),/*#__PURE__*/_jsx(\"button\",{onClick:openGameInNewTab,className:\"button info\",children:\"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u0432 \\u043D\\u043E\\u0432\\u043E\\u0439 \\u0432\\u043A\\u043B\\u0430\\u0434\\u043A\\u0435\"})]})]})]});}if(gameState==='playing'&&gameData){const rows=pairMoves(movesSan);return/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"button\",style:{marginBottom:12},children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041C\\u043D\\u043E\\u0433\\u043E\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u0430\\u044F \\u0438\\u0433\\u0440\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-layout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"game-board\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel\",style:{marginBottom:12},children:[/*#__PURE__*/_jsxs(\"p\",{className:\"kicker\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0412\\u044B \\u0438\\u0433\\u0440\\u0430\\u0435\\u0442\\u0435:\"}),\" \",gameData.color==='w'?'белыми':'чёрными']}),/*#__PURE__*/_jsxs(\"p\",{className:\"kicker\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0425\\u043E\\u0434:\"}),\" \",gameData.currentPlayer==='w'?'белых':'чёрных']})]}),/*#__PURE__*/_jsx(\"div\",{className:\"board-responsive\",children:/*#__PURE__*/_jsx(Chessboard,{position:gameData.fen,onPieceDrop:handleMove,boardWidth:650,boardOrientation:gameData.color==='w'?'white':'black'})}),gameData.isGameOver&&/*#__PURE__*/_jsx(\"div\",{className:\"panel\",style:{marginTop:12,color:'#ff8a80',fontWeight:'bold'},children:gameData.result}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"panel\",style:{marginTop:12,color:'#ff8a80'},children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel game-clock\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0},children:\"\\u0427\\u0430\\u0441\\u044B\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:8},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0411\\u0435\\u043B\\u044B\\u0435\"}),/*#__PURE__*/_jsx(\"strong\",{children:formatMs(displayedClock.wMs)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0427\\u0451\\u0440\\u043D\\u044B\\u0435\"}),/*#__PURE__*/_jsx(\"strong\",{children:formatMs(displayedClock.bMs)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel game-history\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0},children:\"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F \\u0445\\u043E\\u0434\\u043E\\u0432\"}),rows.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"kicker\",children:\"\\u041F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u0445\\u043E\\u0434\\u043E\\u0432\"}):/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'left',width:40},children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'left'},children:\"\\u0411\\u0435\\u043B\\u044B\\u0435\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'left'},children:\"\\u0427\\u0451\\u0440\\u043D\\u044B\\u0435\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:rows.map(r=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[r.no,\".\"]}),/*#__PURE__*/_jsx(\"td\",{children:r.w}),/*#__PURE__*/_jsx(\"td\",{children:r.b})]},r.no))})]})]})]})]})]});}return null;};export default MultiplayerGame;","map":{"version":3,"names":["React","useState","useEffect","useMemo","Chessboard","useNavigate","useSearchParams","Chess","jsx","_jsx","jsxs","_jsxs","formatMs","ms","s","Math","max","floor","m","sec","concat","toString","padStart","pairMoves","sans","rows","i","length","push","no","w","b","MultiplayerGame","navigate","searchParams","gameId","setGameId","playerName","setPlayerName","gameState","setGameState","gameData","setGameData","joinUrl","setJoinUrl","error","setError","ws","setWs","minutes","setMinutes","increment","setIncrement","authToken","setAuthToken","chess","setChess","movesSan","setMovesSan","clock","setClock","wMs","bMs","lastSyncAt","setLastSyncAt","currentPlayer","setCurrentPlayer","isGameOver","setIsGameOver","tick","setTick","joinGameId","get","createNewGame","response","fetch","method","headers","body","JSON","stringify","data","json","joinLink","window","location","origin","err","joinGame","_data$timeControl","_data$timeControl2","token","connectWebSocket","c","fen","timeControl","Date","now","websocket","WebSocket","onopen","onmessage","event","parse","type","move","from","to","prev","san","_unused","_objectSpread","result","onerror","handleMove","sourceSquare","targetSquare","color","playerColor","_unused2","openGameInNewTab","open","copyToClipboard","navigator","clipboard","writeText","id","setInterval","t","clearInterval","displayedClock","elapsed","close","className","children","onClick","style","marginBottom","marginTop","display","gap","alignItems","flexWrap","min","value","onChange","e","Number","target","width","padding","borderRadius","border","background","placeholder","marginRight","readOnly","position","onPieceDrop","boardWidth","boardOrientation","fontWeight","flexDirection","justifyContent","borderCollapse","textAlign","map","r"],"sources":["/home/kirtan-rasa/hardcorechess/client/src/components/MultiplayerGame.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { Chessboard } from 'react-chessboard';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { Chess } from 'chess.js';\n\nconst formatMs = (ms) => {\n  const s = Math.max(0, Math.floor(ms / 1000));\n  const m = Math.floor(s / 60);\n  const sec = s % 60;\n  return `${m}:${sec.toString().padStart(2, '0')}`;\n};\n\nconst pairMoves = (sans) => {\n  const rows = [];\n  for (let i = 0; i < sans.length; i += 2) {\n    rows.push({ no: Math.floor(i / 2) + 1, w: sans[i] || '', b: sans[i + 1] || '' });\n  }\n  return rows;\n};\n\nconst MultiplayerGame = () => {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const [gameId, setGameId] = useState('');\n  const [playerName, setPlayerName] = useState('');\n  const [gameState, setGameState] = useState('menu'); // menu, creating, joining, playing\n  const [gameData, setGameData] = useState(null);\n  const [joinUrl, setJoinUrl] = useState('');\n  const [error, setError] = useState('');\n  const [ws, setWs] = useState(null);\n\n  // time control\n  const [minutes, setMinutes] = useState(5);\n  const [increment, setIncrement] = useState(0);\n\n  // auth token\n  const [authToken, setAuthToken] = useState('');\n\n  // local chess to compute SAN and history\n  const [chess, setChess] = useState(() => new Chess());\n  const [movesSan, setMovesSan] = useState([]);\n\n  // live clock display\n  const [clock, setClock] = useState({ wMs: 0, bMs: 0 });\n  const [lastSyncAt, setLastSyncAt] = useState(null);\n  const [currentPlayer, setCurrentPlayer] = useState('w');\n  const [isGameOver, setIsGameOver] = useState(false);\n  const [tick, setTick] = useState(0);\n\n  // Проверяем, есть ли параметр join в URL\n  useEffect(() => {\n    const joinGameId = searchParams.get('join');\n    if (joinGameId) {\n      setGameId(joinGameId);\n      setGameState('joining');\n    }\n  }, [searchParams]);\n\n  const createNewGame = async () => {\n    try {\n      const response = await fetch('https://hardcorechess.onrender.com/create-multiplayer-game', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ minutes, increment })\n      });\n      const data = await response.json();\n      \n      setGameId(data.gameId);\n      const joinLink = `${window.location.origin}/#/multiplayer?join=${data.gameId}`;\n      setJoinUrl(joinLink);\n      setGameState('creating');\n      setError('');\n      setClock(data.clock || { wMs: minutes * 60000, bMs: minutes * 60000 });\n    } catch (err) {\n      setError('Ошибка при создании игры');\n    }\n  };\n\n  const joinGame = async () => {\n    if (!gameId || !playerName) {\n      setError('Введите ID игры и ваше имя');\n      return;\n    }\n\n    try {\n      const response = await fetch('https://hardcorechess.onrender.com/join-game', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ gameId, playerName })\n      });\n      \n      const data = await response.json();\n      \n      if (data.error) {\n        setError(data.error);\n        return;\n      }\n\n      setAuthToken(data.token || '');\n      setGameData(data);\n      setGameState('playing');\n      connectWebSocket(gameId);\n      setError('');\n\n      // reset local chess from FEN\n      const c = new Chess(data.fen);\n      setChess(c);\n      setMovesSan([]);\n      setClock(data.clock || { wMs: (data.timeControl?.minutes || 5) * 60000, bMs: (data.timeControl?.minutes || 5) * 60000 });\n      setLastSyncAt(Date.now());\n      setCurrentPlayer(data.currentPlayer || 'w');\n      setIsGameOver(false);\n    } catch (err) {\n      setError('Ошибка при присоединении к игре');\n    }\n  };\n\n  const connectWebSocket = (gameId) => {\n    const websocket = new WebSocket(`wss://hardcorechess.onrender.com?gameId=${gameId}`);\n    \n    websocket.onopen = () => {};\n    \n    websocket.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n      if (data.type === 'move') {\n        try {\n          const move = chess.move({ from: data.from, to: data.to });\n          if (move) {\n            setMovesSan(prev => [...prev, move.san]);\n            setChess(new Chess(chess.fen()));\n          }\n        } catch {}\n        setGameData(prev => ({\n          ...prev,\n          fen: data.fen,\n          currentPlayer: data.currentPlayer,\n          isGameOver: data.isGameOver,\n          result: data.result\n        }));\n        if (data.clock) {\n          setClock(data.clock);\n          setLastSyncAt(Date.now());\n        }\n        setCurrentPlayer(data.currentPlayer);\n        setIsGameOver(!!data.isGameOver);\n      }\n    };\n    \n    websocket.onerror = () => {};\n    \n    setWs(websocket);\n  };\n\n  const handleMove = async (sourceSquare, targetSquare) => {\n    if (!gameData || gameData.isGameOver) return false;\n    if (gameData.currentPlayer !== gameData.color) return false;\n\n    try {\n      const response = await fetch('https://hardcorechess.onrender.com/multiplayer-move', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          gameId,\n          from: sourceSquare,\n          to: targetSquare,\n          playerColor: gameData.color,\n          authToken\n        })\n      });\n      \n      const data = await response.json();\n      \n      if (data.error) {\n        setError(data.error);\n        return false;\n      }\n\n      try {\n        const move = chess.move({ from: sourceSquare, to: targetSquare });\n        if (move) {\n          setMovesSan(prev => [...prev, move.san]);\n          setChess(new Chess(chess.fen()));\n        }\n      } catch {}\n\n      setGameData(prev => ({\n        ...prev,\n        fen: data.fen,\n        currentPlayer: data.currentPlayer,\n        isGameOver: data.isGameOver,\n        result: data.result\n      }));\n      if (data.clock) {\n        setClock(data.clock);\n        setLastSyncAt(Date.now());\n      }\n      setCurrentPlayer(data.currentPlayer);\n      setIsGameOver(!!data.isGameOver);\n\n      return true;\n    } catch (err) {\n      setError('Ошибка при выполнении хода');\n      return false;\n    }\n  };\n\n  const openGameInNewTab = () => {\n    window.open(joinUrl, '_blank');\n  };\n\n  const copyToClipboard = () => {\n    navigator.clipboard.writeText(joinUrl);\n  };\n\n  // live ticking effect (forces rerender each 200ms)\n  useEffect(() => {\n    const id = setInterval(() => setTick(t => t + 1), 200);\n    return () => clearInterval(id);\n  }, []);\n\n  const displayedClock = useMemo(() => {\n    if (!lastSyncAt || isGameOver) return clock;\n    const now = Date.now();\n    const elapsed = Math.max(0, now - lastSyncAt);\n    if (currentPlayer === 'w') {\n      return { wMs: Math.max(0, clock.wMs - elapsed), bMs: clock.bMs };\n    } else {\n      return { wMs: clock.wMs, bMs: Math.max(0, clock.bMs - elapsed) };\n    }\n  }, [clock, lastSyncAt, currentPlayer, isGameOver, tick]);\n\n  useEffect(() => {\n    return () => { if (ws) ws.close(); };\n  }, [ws]);\n\n  if (gameState === 'menu') {\n    return (\n      <div className=\"section\">\n        <button onClick={() => navigate('/')} className=\"button\" style={{ marginBottom: 12 }}>Назад</button>\n        <h2>Многопользовательская игра</h2>\n\n        <div className=\"panel\" style={{ marginTop: 12, display: 'flex', gap: 12, alignItems: 'center', flexWrap: 'wrap' }}>\n          <div>\n            <label className=\"kicker\">Минуты</label>\n            <input type=\"number\" min={1} max={180} value={minutes}\n              onChange={(e) => setMinutes(Number(e.target.value))}\n              style={{ width: 80, padding: '8px', borderRadius: 6, border: '1px solid #3a3a3a', background: '#2a2a2a', color: '#e6e6e6' }} />\n          </div>\n          <div>\n            <label className=\"kicker\">Инкремент (сек)</label>\n            <input type=\"number\" min={0} max={60} value={increment}\n              onChange={(e) => setIncrement(Number(e.target.value))}\n              style={{ width: 120, padding: '8px', borderRadius: 6, border: '1px solid #3a3a3a', background: '#2a2a2a', color: '#e6e6e6' }} />\n          </div>\n          <button onClick={createNewGame} className=\"button primary\">Создать игру</button>\n        </div>\n\n        <div className=\"section\">\n          <input\n            type=\"text\"\n            placeholder=\"ID игры\"\n            value={gameId}\n            onChange={(e) => setGameId(e.target.value)}\n            style={{\n              padding: '10px 12px',\n              width: 220,\n              marginRight: 8,\n              borderRadius: 6,\n              border: '1px solid #3a3a3a',\n              background: '#2a2a2a',\n              color: '#e6e6e6'\n            }}\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Ваше имя\"\n            value={playerName}\n            onChange={(e) => setPlayerName(e.target.value)}\n            style={{\n              padding: '10px 12px',\n              width: 220,\n              marginRight: 8,\n              borderRadius: 6,\n              border: '1px solid #3a3a3a',\n              background: '#2a2a2a',\n              color: '#e6e6e6'\n            }}\n          />\n          <button onClick={joinGame} className=\"button\">Присоединиться</button>\n        </div>\n\n        {error && (\n          <div className=\"panel\" style={{ marginTop: 16, color: '#ff8a80' }}>\n            {error}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  if (gameState === 'joining') {\n    return (\n      <div className=\"section\">\n        <button onClick={() => navigate('/')} className=\"button\" style={{ marginBottom: 12 }}>Назад</button>\n        <h2>Присоединиться к игре</h2>\n        \n        <div className=\"panel\" style={{ marginTop: 16 }}>\n          <p className=\"kicker\"><strong>ID игры:</strong> {gameId}</p>\n          <p className=\"kicker\">Введите ваше имя, чтобы присоединиться к игре.</p>\n        </div>\n        \n        <div className=\"section\">\n          <input\n            type=\"text\"\n            placeholder=\"Ваше имя\"\n            value={playerName}\n            onChange={(e) => setPlayerName(e.target.value)}\n            style={{\n              padding: '10px 12px',\n              width: 220,\n              marginRight: 8,\n              borderRadius: 6,\n              border: '1px solid #3a3a3a',\n              background: '#2a2a2a',\n              color: '#e6e6e6'\n            }}\n          />\n          <button onClick={joinGame} className=\"button\">Присоединиться к игре</button>\n        </div>\n        \n        {error && (\n          <div className=\"panel\" style={{ marginTop: 16, color: '#ff8a80' }}>\n            {error}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  if (gameState === 'creating') {\n    return (\n      <div className=\"section\">\n        <button onClick={() => navigate('/')} className=\"button\" style={{ marginBottom: 12 }}>Назад</button>\n        <h2>Игра создана</h2>\n        \n        <div className=\"panel\" style={{ marginTop: 16 }}>\n          <p className=\"kicker\"><strong>ID игры:</strong> {gameId}</p>\n          <p className=\"kicker\"><strong>Контроль времени:</strong> {minutes}+{increment}</p>\n          <p className=\"kicker\"><strong>Ссылка для друга:</strong></p>\n          <input\n            type=\"text\"\n            value={joinUrl}\n            readOnly\n            style={{\n              width: '100%',\n              padding: '10px 12px',\n              borderRadius: 8,\n              border: '1px solid #3a3a3a',\n              background: '#2a2a2a',\n              color: '#e6e6e6'\n            }}\n          />\n          <div style={{ marginTop: 12, display: 'flex', gap: 8 }}>\n            <button onClick={copyToClipboard} className=\"button\">Копировать ссылку</button>\n            <button onClick={openGameInNewTab} className=\"button info\">Открыть в новой вкладке</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (gameState === 'playing' && gameData) {\n    const rows = pairMoves(movesSan);\n    return (\n      <div className=\"section\">\n        <button onClick={() => navigate('/')} className=\"button\" style={{ marginBottom: 12 }}>Назад</button>\n        <h2>Многопользовательская игра</h2>\n        \n        <div className=\"game-layout\">\n          <div className=\"game-board\">\n            <div className=\"panel\" style={{ marginBottom: 12 }}>\n              <p className=\"kicker\"><strong>Вы играете:</strong> {gameData.color === 'w' ? 'белыми' : 'чёрными'}</p>\n              <p className=\"kicker\"><strong>Ход:</strong> {gameData.currentPlayer === 'w' ? 'белых' : 'чёрных'}</p>\n            </div>\n            \n            <div className=\"board-responsive\">\n              <Chessboard\n                position={gameData.fen}\n                onPieceDrop={handleMove}\n                boardWidth={650}\n                boardOrientation={gameData.color === 'w' ? 'white' : 'black'}\n              />\n            </div>\n\n            {gameData.isGameOver && (\n              <div className=\"panel\" style={{ marginTop: 12, color: '#ff8a80', fontWeight: 'bold' }}>\n                {gameData.result}\n              </div>\n            )}\n            \n            {error && (\n              <div className=\"panel\" style={{ marginTop: 12, color: '#ff8a80' }}>\n                {error}\n              </div>\n            )}\n          </div>\n\n          {/* Правая колонка: часы и история ходов */}\n          <div className=\"game-sidebar\">\n            <div className=\"panel game-clock\">\n              <h3 style={{ marginTop: 0 }}>Часы</h3>\n              <div style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                  <span>Белые</span>\n                  <strong>{formatMs(displayedClock.wMs)}</strong>\n                </div>\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                  <span>Чёрные</span>\n                  <strong>{formatMs(displayedClock.bMs)}</strong>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"panel game-history\">\n              <h3 style={{ marginTop: 0 }}>История ходов</h3>\n              {rows.length === 0 ? (\n                <p className=\"kicker\">Пока нет ходов</p>\n              ) : (\n                <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n                  <thead>\n                    <tr>\n                      <th style={{ textAlign: 'left', width: 40 }}>#</th>\n                      <th style={{ textAlign: 'left' }}>Белые</th>\n                      <th style={{ textAlign: 'left' }}>Чёрные</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {rows.map((r) => (\n                      <tr key={r.no}>\n                        <td>{r.no}.</td>\n                        <td>{r.w}</td>\n                        <td>{r.b}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport default MultiplayerGame;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}