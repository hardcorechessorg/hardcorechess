{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Chessboard}from'react-chessboard';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SinglePlayerGame=()=>{const navigate=useNavigate();const[fen,setFen]=useState(\"\");const[isGameOver,setIsGameOver]=useState(false);const[result,setResult]=useState(null);useEffect(()=>{startNewGame();},[]);async function startNewGame(){try{const res=await fetch(\"https://hardcorechess.onrender.com/new-game\",{method:\"POST\"});const data=await res.json();setFen(data.fen);setIsGameOver(false);setResult(null);}catch(error){console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –∏–≥—Ä—ã:',error);}}async function handleMove(sourceSquare,targetSquare){if(isGameOver)return false;try{const res=await fetch(\"https://hardcorechess.onrender.com/move\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({from:sourceSquare,to:targetSquare})});const data=await res.json();if(data.error)return false;setFen(data.fen);setIsGameOver(data.isGameOver);setResult(data.result);return true;}catch(error){console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ö–æ–¥–∞:',error);return false;}}return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),style:{position:'absolute',top:'20px',left:'20px',padding:'10px 20px',backgroundColor:'#666',color:'white',border:'none',borderRadius:'5px',cursor:'pointer'},children:\"\\u2190 \\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83E\\uDDE9 \\u041E\\u0434\\u0438\\u043D\\u043E\\u0447\\u043D\\u0430\\u044F \\u0438\\u0433\\u0440\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{onClick:startNewGame,style:{padding:'12px 24px',fontSize:'1.1em',backgroundColor:'#FF9800',color:'white',border:'none',borderRadius:'8px',cursor:'pointer',marginBottom:'20px'},children:\"\\u041D\\u043E\\u0432\\u0430\\u044F \\u0438\\u0433\\u0440\\u0430\"}),/*#__PURE__*/_jsx(Chessboard,{position:fen,onPieceDrop:handleMove,boardWidth:600}),isGameOver&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'20px',padding:'15px',backgroundColor:'#ffebee',borderRadius:'10px',color:'#c62828',fontWeight:'bold',fontSize:'1.2em'},children:result})]});};export default SinglePlayerGame;","map":{"version":3,"names":["React","useState","useEffect","Chessboard","useNavigate","jsx","_jsx","jsxs","_jsxs","SinglePlayerGame","navigate","fen","setFen","isGameOver","setIsGameOver","result","setResult","startNewGame","res","fetch","method","data","json","error","console","handleMove","sourceSquare","targetSquare","headers","body","JSON","stringify","from","to","style","textAlign","children","onClick","position","top","left","padding","backgroundColor","color","border","borderRadius","cursor","fontSize","marginBottom","onPieceDrop","boardWidth","marginTop","fontWeight"],"sources":["C:/Users/chich/chess-platform/client/src/components/SinglePlayerGame.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Chessboard } from 'react-chessboard';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst SinglePlayerGame = () => {\r\n  const navigate = useNavigate();\r\n  const [fen, setFen] = useState(\"\");\r\n  const [isGameOver, setIsGameOver] = useState(false);\r\n  const [result, setResult] = useState(null);\r\n\r\n  useEffect(() => {\r\n    startNewGame();\r\n  }, []);\r\n\r\n  async function startNewGame() {\r\n    try {\r\n      const res = await fetch(\"https://hardcorechess.onrender.com/new-game\", { method: \"POST\" });\r\n      const data = await res.json();\r\n      setFen(data.fen);\r\n      setIsGameOver(false);\r\n      setResult(null);\r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –∏–≥—Ä—ã:', error);\r\n    }\r\n  }\r\n\r\n  async function handleMove(sourceSquare, targetSquare) {\r\n    if (isGameOver) return false;\r\n\r\n    try {\r\n      const res = await fetch(\"https://hardcorechess.onrender.com/move\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ from: sourceSquare, to: targetSquare })\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (data.error) return false;\r\n\r\n      setFen(data.fen);\r\n      setIsGameOver(data.isGameOver);\r\n      setResult(data.result);\r\n\r\n      return true;\r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ö–æ–¥–∞:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center' }}>\r\n      <button \r\n        onClick={() => navigate('/')}\r\n        style={{\r\n          position: 'absolute',\r\n          top: '20px',\r\n          left: '20px',\r\n          padding: '10px 20px',\r\n          backgroundColor: '#666',\r\n          color: 'white',\r\n          border: 'none',\r\n          borderRadius: '5px',\r\n          cursor: 'pointer'\r\n        }}\r\n      >\r\n        ‚Üê –ù–∞–∑–∞–¥\r\n      </button>\r\n      \r\n      <h2>üß© –û–¥–∏–Ω–æ—á–Ω–∞—è –∏–≥—Ä–∞</h2>\r\n      \r\n      <button \r\n        onClick={startNewGame}\r\n        style={{\r\n          padding: '12px 24px',\r\n          fontSize: '1.1em',\r\n          backgroundColor: '#FF9800',\r\n          color: 'white',\r\n          border: 'none',\r\n          borderRadius: '8px',\r\n          cursor: 'pointer',\r\n          marginBottom: '20px'\r\n        }}\r\n      >\r\n        –ù–æ–≤–∞—è –∏–≥—Ä–∞\r\n      </button>\r\n\r\n      <Chessboard\r\n        position={fen}\r\n        onPieceDrop={handleMove}\r\n        boardWidth={600}\r\n      />\r\n\r\n      {isGameOver && (\r\n        <div style={{ \r\n          marginTop: '20px', \r\n          padding: '15px',\r\n          backgroundColor: '#ffebee',\r\n          borderRadius: '10px',\r\n          color: '#c62828',\r\n          fontWeight: 'bold',\r\n          fontSize: '1.2em'\r\n        }}>\r\n          {result}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SinglePlayerGame;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}